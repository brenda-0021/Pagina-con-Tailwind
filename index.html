<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Top Classic Songs</title>
    <link rel="icon" href="/images/vinil.webp" type="image/png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lobster&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link href="/dist/output.css" rel="stylesheet" />
    <style>
      .card {
        transition: transform 0.3s;
      }
      .card:hover {
        transform: scale(1.08);
      }
      @keyframes moveBackground {
        0% {
          background-position: center top;
        }
        50% {
          background-position: center bottom;
        }
        100% {
          background-position: center top;
        }
      }
      .fade-out {
        opacity: 0;
        transition: opacity 0.5s ease-out;
      }

      .fade-in {
        opacity: 1;
        transition: opacity 0.5s ease-in;
      }
      body {
        animation: moveBackground 20s ease-in-out infinite;
      }
      .carousel-container {
        position: relative;
        width: 100vw;
        padding: 1rem;
        margin-top: -19rem;
      }
      .no-scroll {
        overflow-x: hidden;
      }
      .modal {
        position: relative;
        z-index: 10;
        border-radius: 30px; /* Bordes redondeados */
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); /* Sombra */
        padding-bottom: 2rem;
      }
      .svg-background {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1; /* Asegúrate de que el SVG esté detrás del contenido */
      }
      .spotify-button {
        position: relative; /* Asegúrate de que tenga un contexto de posición */
        z-index: 20; /* Un número mayor que el del SVG */
      }
      .text-outline {
        color: #fedab6; /* Color del texto (cherry) */
        text-shadow: -2px -2px 0 #9b2226, 2px -2px 0 #9b2226, -2px 2px 0 #9b2226,
          2px 2px 0 #9b2226; /* Borde (rosa) */
      }
    </style>
  </head>
  <body
    class="text-white no-scroll"
    style="
      background-image: url('/images/espiral.jpeg');
      background-size: cover;
      animation: moveBackground 20s ease-in-out infinite;
    "
  >
    <!-- Main Layout -->
    <div class="flex h-screen">
      <!-- Left Section: Background Image and Title -->
      <div class="w-1/3 relative bg-cover bg-center">
        <div class="absolute inset-0 bg-black opacity-0"></div>
        <!-- Overlay -->
        <div class="relative p-12 z-10">
          <h1
            class="text-7xl font-lobster text-outline"
            data-text="80s & 90s Pop/Disco Hits"
          >
            80s & 90s Pop/Disco Hits
          </h1>
          <p class="mt-4 text-2xl font-lobster text-cherry">
            My top 8 favorite retro songs
          </p>
        </div>
      </div>

      <!-- Right Section: Info -->
      <div class="w-2/3 flex flex-col justify-between p-10">
        <!-- Song Information Section -->
        <div
          class="relative bg-cherry p-8 rounded-2xl mb-8 h-1/2 flex justify-between items-center overflow-hidden modal"
        >
          <svg
            class="absolute svg-background"
            viewBox="0 0 200 200"
            preserveAspectRatio="none"
          >
            <defs>
              <pattern
                id="dots"
                patternUnits="userSpaceOnUse"
                width="10"
                height="10"
              >
                <circle cx="5" cy="5" r="2.5" fill="#fedab6" />
                <!-- Color naranjoso con transparencia -->
              </pattern>
            </defs>
            <path
              d="M0,100 C50,0 150,0 200,100 L200,200 L0,200 Z"
              fill="#feabab"
            />
            <!-- Fondo rosita -->
            <path
              d="M0,100 C50,0 150,0 200,100 L200,200 L0,200 Z"
              fill="url(#dots)"
              opacity="0.5"
            />
            <!-- Lunares con transparencia -->
          </svg>

          <div class="relative z-10">
            <h2
              id="modal-title"
              class="text-5xl font-lobster text-naranjoso"
              style="text-shadow: 0 4px 6px #9b2226"
            >
              Song Title
            </h2>
            <p id="modal-artist" class="mt-8 text-xl text-cherry font-bold">
              Artist:
            </p>
            <p id="modal-album" class="mt-2 text-xl text-cherry font-bold">
              Album:
            </p>
            <p id="modal-year" class="mt-2 text-xl text-cherry font-bold">
              Year:
            </p>
            <p id="modal-country" class="mt-2 text-xl text-cherry font-bold">
              Country:
            </p>
          </div>
          <a
            id="spotify-link"
            href="#"
            target="_blank"
            class="spotify-button text-cherry text-center font-bold text-xl py-2 px-4 rounded-full ml-4 border-s-4 border-b-4 border-cherry bg-naranjoso"
          >
            <i class="fab fa-spotify mr-2"></i> Listen on Spotify
          </a>
        </div>
      </div>
    </div>

    <!-- Carousel Section -->
    <div class="carousel-container max-w-full">
      <div class="relative max-w-full">
        <!-- Carousel Wrapper -->
        <div
          id="carousel"
          class="space-x-2 transition-all duration-300 ease-in-out inline-flex"
        >
          <!-- Card Template -->
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/physical.jpg');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 1 ~
            </p>
          </div>
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/girls_just_want_to_have_fun.png');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 2 ~
            </p>
          </div>
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/self_control.jpeg');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 3 ~
            </p>
          </div>
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/believe.jpg');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 4 ~
            </p>
          </div>
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/everybody_wants_to_rule_the_world.png');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 5 ~
            </p>
          </div>
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/like_a_prayer.jpg');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 6 ~
            </p>
          </div>
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/livin_on_a_prayer.jpg');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 7 ~
            </p>
          </div>
          <div
            class="relative w-64 h-64 flex flex-col justify-center items-center"
          >
            <div
              class="card rounded-full p-4 w-full h-full flex flex-col justify-center items-center"
              style="
                background-image: url('/images/take_on_me.jpeg');
                background-size: cover;
                background-position: center;
              "
            ></div>
            <p
              class="absolute -top-12 left-1/2 transform -translate-x-1/2 text-white font-lobster text-lg bg-cherry bg-opacity-50 rounded-full p-2 border-s-4 border-b-4 border-cherry"
            >
              ~ Top 8 ~
            </p>
          </div>
        </div>

        <!-- Carousel Buttons -->
        <button
          id="prev"
          class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-cherry p-2 rounded-full"
        >
          ←
        </button>
        <button
          id="next"
          class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-cherry p-2 rounded-full"
        >
          →
        </button>
      </div>
    </div>

    <!-- JavaScript for functionality -->
    <script>
      const carousel = document.getElementById("carousel");
      const prevButton = document.getElementById("prev");
      const nextButton = document.getElementById("next");
      const modalTitle = document.getElementById("modal-title");
      const modalArtist = document.getElementById("modal-artist");
      const modalAlbum = document.getElementById("modal-album");
      const modalYear = document.getElementById("modal-year");
      const modalCountry = document.getElementById("modal-country");

      let offset = 0;
      const cardWidth = 256; // Ancho de cada tarjeta (incluyendo margen y relleno)
      const visibleCards = 5; // Número de tarjetas visibles en un momento dado
      const totalCards = 8; // Total de tarjetas en el carrusel
      const maxOffset = -(cardWidth * (totalCards - visibleCards)); // Desplazamiento máximo negativo

      // Carousel navigation
      nextButton.addEventListener("click", () => {
        if (offset > maxOffset) {
          // Solo se mueve si no ha alcanzado el final
          offset -= cardWidth;
          if (offset < maxOffset) {
            offset = maxOffset; // Limitar el desplazamiento al máximo permitido
          }
          carousel.style.transform = `translateX(${offset}px)`;
        }
      });

      prevButton.addEventListener("click", () => {
        if (offset < 0) {
          // Solo se mueve si no ha alcanzado el principio
          offset += cardWidth;
          if (offset > 0) {
            offset = 0; // Limitar el desplazamiento al mínimo permitido
          }
          carousel.style.transform = `translateX(${offset}px)`;
        }
      });

      const showModal = (title, artist, album, year, country, spotifyLink) => {
        // Elemento del contenedor de detalles de la canción
        const songInfoContainer = document.querySelector(".bg-cherry");
        const spotifyButton = document.getElementById("spotify-link");

        // Remover cualquier clase de fade-in previa, en caso de que exista
        songInfoContainer.classList.remove("fade-in");

        // Aplicar clase fade-out para desvanecer
        songInfoContainer.classList.add("fade-out");

        // Esperar el tiempo de la transición para cambiar el contenido y aplicar fade-in
        setTimeout(() => {
          // Actualizar el contenido
          modalTitle.innerText = title;
          modalArtist.innerText = `Artist: ${artist}`;
          modalAlbum.innerText = `Album: ${album}`;
          modalYear.innerText = `Year: ${year}`;
          modalCountry.innerText = `Country: ${country}`;

          // Actualizar el enlace del botón de Spotify
          spotifyButton.href = spotifyLink;

          // Remover fade-out y aplicar fade-in para reaparecer
          songInfoContainer.classList.remove("fade-out");
          songInfoContainer.classList.add("fade-in");
        }, 300); // La duración coincide con la transición CSS de 0.5s
      };
      showModal(
        "Physical",
        "Olivia Newton-John",
        "Physical",
        "1981",
        "Australia / UK",
        "https://open.spotify.com/intl-es/track/6egmD7auKp3N7gy72uBnFQ?si=f19c3e5ddbf34875"
      );

      const cards = document.querySelectorAll(".card");

      // Asignar eventos click a cada tarjeta con los datos correctos
      cards[0].addEventListener("click", () => {
        showModal(
          "Physical",
          "Olivia Newton-John",
          "Physical",
          "1981",
          "Australia / UK",
          "https://open.spotify.com/intl-es/track/6egmD7auKp3N7gy72uBnFQ?si=f19c3e5ddbf34875"
        );
      });

      cards[1].addEventListener("click", () => {
        showModal(
          "Girls Just Want to Have Fun",
          "Cyndi Lauper",
          "She's So Unusual",
          "1983",
          "USA",
          "https://open.spotify.com/intl-es/track/4y1LsJpmMti1PfRQV9AWWe?si=a0b4614d3cd04d67"
        );
      });

      cards[2].addEventListener("click", () => {
        showModal(
          "Self Control",
          "Laura Branigan",
          "Self Control",
          "1984",
          "USA",
          "https://open.spotify.com/intl-es/track/6JNJERZGJwDVgkmbohBw7u?si=8086f192c40d4e53"
        );
      });

      cards[3].addEventListener("click", () => {
        showModal(
          "Believe",
          "Cher",
          "Believe",
          "1998",
          "USA",
          "https://open.spotify.com/intl-es/track/2goLsvvODILDzeeiT4dAoR?si=c1bb03f86c024413"
        );
      });

      cards[4].addEventListener("click", () => {
        showModal(
          "Everybody Wants to Rule the World",
          "Tears for Fears",
          "Songs from the Big Chair",
          "1985",
          "UK",
          "https://open.spotify.com/intl-es/track/4RvWPyQ5RL0ao9LPZeSouE?si=8e92b8419ad04b74"
        );
      });

      cards[5].addEventListener("click", () => {
        showModal(
          "Like a Prayer",
          "Madonna",
          "Like a Prayer",
          "1989",
          "USA",
          "https://open.spotify.com/intl-es/track/1z3ugFmUKoCzGsI6jdY4Ci?si=b4fa3b256d0942af"
        );
      });

      cards[6].addEventListener("click", () => {
        showModal(
          "Livin' on a Prayer",
          "Bon Jovi",
          "Slippery When Wet",
          "1986",
          "USA",
          "https://open.spotify.com/intl-es/track/37ZJ0p5Jm13JPevGcx4SkF?si=2156e29e1ef34847"
        );
      });

      cards[7].addEventListener("click", () => {
        showModal(
          "Take On Me",
          "a-ha",
          "Hunting High and Low",
          "1985",
          "Noruega",
          "https://open.spotify.com/intl-es/track/2WfaOiMkCvy7F5fcp2zZ8L?si=5753dfeb58b944c8"
        );
      });
    </script>
  </body>
</html>
